<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Closures</title>
  <style>body {
      font-size: 24px;
    }</style>
</head>
<body>
  <a href="/exercices\index.html">Go Back!</a>
  <p><em>Abre la consola</em></p>

  <script>// CLOSURES
// printColor
// IIFE Inmediatly Invoke Function Expresion

/* Invocamos la función inmediatamente y todo lo que tenga dentro no podra ser accedido ni modificado por el        scope global */
(function () {
  let color = 'green';

  function printColor() {
    console.log(color);
  }

  printColor();
})();
/* Generamos una función que retorna otra función con lo cual la variable "colorMessage" no podra ser accedida ni modificada */


function makeColorPrinter(color) {
  let colorMessage = `The color is ${color}`;
  return function () {
    console.log(colorMessage);
  };
}
/* ahora la variable "greenColorPrinter" se convirtio en una función que recuerda el valor inicial */


let greenColorPrinter = makeColorPrinter('green');
greenColorPrinter(); // variables *privadas*

/* La propiedad "count" de este objeto puede ser accedida y modificada en cualquier parte del codigo */

/* const counter = {
  count: 3
}
console.log(counter.count)
counter.count = 99
console.log(counter.count) */

/* La varaible "count" podra se accedida y modificada unicamente por sus métodos y no de forma directa. */

function makeCounter(n) {
  let count = n;
  return {
    increase: function () {
      count++;
    },
    descrease: function () {
      count--;
    },
    getCount: () => count
  };
}

let counter = makeCounter(7);
console.log(counter.getCount());
counter.increase();
console.log(counter.getCount());
counter.descrease();
counter.descrease();
console.log(counter.getCount());
counter.count = 99;
console.log(counter.getCount());</script>
</body>
</html>